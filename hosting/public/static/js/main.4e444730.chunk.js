(this["webpackJsonpcad-funcionarios"]=this["webpackJsonpcad-funcionarios"]||[]).push([[0],{108:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},120:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),l=a.n(i),o=a(23),c=a.n(o),s=a(37),u=(a(97),a(7)),m=a(16),d=a(166),p=a(172),f=a(177),b=a(181),y=a(180),g=a(176),O=a(178),v=a(183),h=a(174),j=a(76),E=a.n(j),x=a(179),C=a(65),k=a.n(C);k.a.initializeApp({apiKey:"AIzaSyC1UnKBCPqGhmnHvetVCx00wN1cu0GYI0w",authDomain:"cad-funcionarios-32b7f.firebaseapp.com",databaseURL:"https://cad-funcionarios-32b7f.firebaseio.com",projectId:"cad-funcionarios-32b7f",storageBucket:"cad-funcionarios-32b7f.appspot.com",messagingSenderId:"850092813378",appId:"1:850092813378:web:766be8b7fd8e3c077151db"});var w=k.a,N=w.database(),S=function(e,t){return new Promise((function(a,n){var r=N.ref(),i={};i["/employees/"+e]=t,r.update(i),a("Update")}))},_=function(){return new Promise((function(e,t){N.ref("employees").once("value").then((function(t){var a=t.val();e(a)}))}))},B=function(e){return new Promise((function(t,a){N.ref("/employees/".concat(e)).remove(),t("Delete")}))},I=function(e){return JSON.parse(localStorage.getItem(e))},z=function(e,t){return localStorage.getItem(e)!==JSON.stringify(t)&&(localStorage.setItem(e,JSON.stringify(t)),!0)},T=Object(n.createContext)();function P(e){var t=e.children,a=Object(n.useState)(null),i=Object(m.a)(a,2),l=i[0],o=i[1];return r.a.createElement(T.Provider,{value:{employees:l,setEmployees:o}},t)}function A(){var e=Object(n.useContext)(T);return{employees:e.employees,setEmployees:e.setEmployees}}var D=a(184),W=a(175),U=a(121),V=a(74),q=a.n(V),J=a(38),M=a(185),R=a(173),H=(a(108),{first_name:{error:!1,type:""},last_name:{error:!1,type:""},dateBirth:{error:!1,type:""},office:{error:!1,type:""},amount:{error:!1,type:""},descriptionOffice:{error:!1,type:""}});function G(e){var t={};return t.first_name=e.first_name?{error:!1,type:""}:{error:!0,type:"Campo Obrigat\xf3rio"},t.last_name=e.last_name?{error:!1,type:""}:{error:!0,type:"Campo Obrigat\xf3rio"},t.dateBirth=/^([0-2][0-9]|(3)[0-1])(\/)(((0)[0-9])|((1)[0-2]))(\/)\d{4}$/i.test(e.dateBirth)?{error:!1,type:""}:{error:!0,type:"Data n\xe3o \xe9 valida"},t.office=e.office?{error:!1,type:""}:{error:!0,type:"Campo Obrigat\xf3rio"},t.amount=e.amount?{error:!1,type:""}:{error:!0,type:"Campo Obrigat\xf3rio"},t.descriptionOffice=e.descriptionOffice?{error:!1,type:""}:{error:!0,type:"Campo Obrigat\xf3rio"},t}var K=Object(d.a)((function(e){return{input:{width:"48%"},inputAmount:{width:"48%"},multiline:{width:"100%"}}}));var L=function(e){var t=e.keyUnq,a=e.closeModal,i=A(),l=i.employees,o=i.setEmployees,d=Object(n.useState)(l[t]),p=Object(m.a)(d,2),f=p[0],b=p[1],y=Object(n.useState)(G(f)),g=Object(m.a)(y,2),O=g[0],v=g[1],h=K(),j=function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object.values(G(f)).every((function(e){return!1===e.error}))){e.next=8;break}return e.next=3,S(t,f);case 3:o(Object(u.a)(Object(u.a)({},l),{},Object(J.a)({},t,f))),v(Object(u.a)({},H)),a(),e.next=9;break;case 8:v(Object(u.a)({},G(f)));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"edit"},r.a.createElement("p",{style:{marginTop:"0px",fontSize:26}},"Editar"),r.a.createElement("div",{style:{width:"100%",margin:"20px 0px",display:"flex",justifyContent:"space-between"}},r.a.createElement(M.a,{label:"Nome",defaultValue:f.first_name,error:O.first_name.error,helperText:O.first_name.type,variant:"outlined",size:"small",className:h.input,onChange:function(e){b(Object(u.a)(Object(u.a)({},f),{},{first_name:e.target.value}))}}),r.a.createElement(M.a,{label:"Sobrenome",onChange:function(e){b(Object(u.a)(Object(u.a)({},f),{},{last_name:e.target.value}))},variant:"outlined",size:"small",className:h.input,defaultValue:f.last_name,error:O.last_name.error,helperText:O.last_name.type})),r.a.createElement("div",{style:{width:"100%",margin:"20px 0px",display:"flex",justifyContent:"space-between"}},r.a.createElement(M.a,{label:"Data de Nascimento",onChange:function(e){b(Object(u.a)(Object(u.a)({},f),{},{dateBirth:e.target.value}))},variant:"outlined",size:"small",className:h.input,defaultValue:f.dateBirth,error:O.dateBirth.error,helperText:O.dateBirth.type}),r.a.createElement(M.a,{label:"Cargo",onChange:function(e){b(Object(u.a)(Object(u.a)({},f),{},{office:e.target.value}))},variant:"outlined",size:"small",className:h.input,defaultValue:f.office,error:O.office.error,helperText:O.office.type})),r.a.createElement("div",{style:{margin:"20px 0px",display:"flex",justifyContent:"space-between"}},r.a.createElement(M.a,{label:"Sal\xe1rio",onChange:function(e){b(Object(u.a)(Object(u.a)({},f),{},{amount:e.target.value}))},variant:"outlined",size:"small",className:h.inputAmount,defaultValue:f.amount,error:O.amount.error,helperText:O.amount.type})),r.a.createElement("div",{style:{margin:"20px 0px",display:"flex",justifyContent:"space-between"}},r.a.createElement(M.a,{label:"Descri\xe7\xe3o do Cargo",multiline:!0,defaultValue:f.descriptionOffice,rows:5,variant:"outlined",className:h.multiline,onChange:function(e){b(Object(u.a)(Object(u.a)({},f),{},{descriptionOffice:e.target.value}))},error:O.descriptionOffice.error,helperText:O.descriptionOffice.type})),r.a.createElement(R.a,{variant:"contained",color:"primary",onClick:function(){j()},style:{marginRight:"10px",backgroundImage:"linear-gradient(90deg, #2fcf24 0%, #10640a 100%)"}},"Editar"))},F=Object(d.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function Y(e){var t=e.keyUnq,a=F(),i=Object(n.useState)(!1),l=Object(m.a)(i,2),o=l[0],c=l[1],s=function(){c(!1)};return r.a.createElement("div",null,r.a.createElement(h.a,{size:"small",color:"primary","aria-label":"edit",style:{backgroundImage:"linear-gradient(90deg, #2fcf24 0%, #10640a 100%)"},onClick:function(){c(!0)}},r.a.createElement(q.a,null)),r.a.createElement(D.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:a.modal,open:o,onClose:s,closeAfterTransition:!0,BackdropComponent:W.a,BackdropProps:{timeout:500}},r.a.createElement(U.a,{in:o},r.a.createElement(L,{keyUnq:t,closeModal:s}))))}var $=[{id:"name",label:"Nome",minWidth:170},{id:"dateBirth",label:"Data de Nascimento",minWidth:100},{id:"office",label:"Cargo",minWidth:100},{id:"amount",label:"Sal\xe1rio",minWidth:100},{id:"edit",label:"Editar",maxWidth:80},{id:"del",label:"Deletar",maxWidth:80}],Q=Object(d.a)({root:{width:"100%"},container:{maxHeight:440}});var X=Object(n.memo)((function(){var e=Q(),t=A(),a=t.employees,i=t.setEmployees,l=r.a.useState(0),o=Object(m.a)(l,2),c=o[0],s=o[1],d=r.a.useState(10),j=Object(m.a)(d,2),C=j[0],k=j[1],w=r.a.useState([]),N=Object(m.a)(w,2),S=N[0],_=N[1];return Object(n.useEffect)((function(){var e=function(e){B(e);var t=a;delete t[e],i(Object(u.a)({},t))};a&&(_(function(e,t){return Object.values(e).map((function(a,n){return t("".concat(a.first_name," ").concat(a.last_name),a.dateBirth,a.office,a.amount,Object.keys(e)[n])}))}(a,(function(t,a,n,i,l){return{name:t,dateBirth:a,office:n,amount:i,edit:r.a.createElement(Y,{keyUnq:l}),del:r.a.createElement(h.a,{size:"small",color:"secondary","aria-label":"edit",onClick:function(){return e(l)},style:{backgroundImage:"linear-gradient(90deg, #c21616 0%, #630c0c 100%)"}},r.a.createElement(E.a,null)),key:l}}))),z("employees",a))}),[a,i]),r.a.createElement(p.a,{className:e.root},r.a.createElement(g.a,{className:e.container},r.a.createElement(f.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement(O.a,null,r.a.createElement(x.a,null,$.map((function(e){return r.a.createElement(y.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},r.a.createElement("b",null,e.label))})))),r.a.createElement(b.a,null,S.slice(c*C,c*C+C).map((function(e){return r.a.createElement(x.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.key},$.map((function(t){var a=e[t.id];return r.a.createElement(y.a,{key:t.id,align:t.align},t.format&&"number"===typeof a?t.format(a):a)})))}))))),r.a.createElement(v.a,{rowsPerPageOptions:[10,25,100],component:"div",count:S.length,rowsPerPage:C,page:c,onChangePage:function(e,t){s(t)},onChangeRowsPerPage:function(e){k(+e.target.value),s(0)}}))})),Z=a(77),ee=a.n(Z),te=(a(117),Object(d.a)((function(e){return{input:{width:"48%"},inputAmount:{width:"48%"},multiline:{width:"100%"}}})));var ae=function(e){var t=e.closeModal,a=A(),i=a.employees,l=a.setEmployees,o=Object(n.useState)(H),d=Object(m.a)(o,2),p=d[0],f=d[1],b=te(),y=Object(n.useState)({first_name:"",last_name:"",dateBirth:"",office:"",amount:"",descriptionOffice:""}),g=Object(m.a)(y,2),O=g[0],v=g[1],h=function(){var e=Object(s.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object.values(G(O)).every((function(e){return!1===e.error}))){e.next=9;break}return a=w.database().ref().child("employee").push().key,e.next=4,S(a,O);case 4:l(Object(u.a)(Object(u.a)({},i),{},Object(J.a)({},a,O))),f(Object(u.a)({},H)),t(),e.next=10;break;case 9:f(Object(u.a)({},G(O)));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"register"},r.a.createElement("p",{style:{marginTop:"0px",fontSize:26}},"Cadastro"),r.a.createElement("div",{style:{width:"100%",margin:"20px 0px",display:"flex",justifyContent:"space-between"}},r.a.createElement(M.a,{label:"Nome",error:p.first_name.error,helperText:p.first_name.type,variant:"outlined",size:"small",className:b.input,onChange:function(e){v(Object(u.a)(Object(u.a)({},O),{},{first_name:e.target.value}))}}),r.a.createElement(M.a,{label:"Sobrenome",onChange:function(e){v(Object(u.a)(Object(u.a)({},O),{},{last_name:e.target.value}))},variant:"outlined",size:"small",className:b.input,error:p.last_name.error,helperText:p.last_name.type})),r.a.createElement("div",{style:{width:"100%",margin:"20px 0px",display:"flex",justifyContent:"space-between"}},r.a.createElement(M.a,{label:"Data de Nascimento",onChange:function(e){v(Object(u.a)(Object(u.a)({},O),{},{dateBirth:e.target.value}))},variant:"outlined",size:"small",className:b.input,error:p.dateBirth.error,helperText:p.dateBirth.type}),r.a.createElement(M.a,{label:"Cargo",onChange:function(e){v(Object(u.a)(Object(u.a)({},O),{},{office:e.target.value}))},variant:"outlined",size:"small",className:b.input,error:p.office.error,helperText:p.office.type})),r.a.createElement("div",{style:{margin:"20px 0px",display:"flex",justifyContent:"space-between"}},r.a.createElement(M.a,{label:"Sal\xe1rio",onChange:function(e){v(Object(u.a)(Object(u.a)({},O),{},{amount:e.target.value}))},variant:"outlined",size:"small",className:b.inputAmount,error:p.amount.error,helperText:p.amount.type})),r.a.createElement("div",{style:{margin:"20px 0px",display:"flex",justifyContent:"space-between"}},r.a.createElement(M.a,{label:"Descri\xe7\xe3o do Cargo",multiline:!0,rows:5,variant:"outlined",className:b.multiline,onChange:function(e){v(Object(u.a)(Object(u.a)({},O),{},{descriptionOffice:e.target.value}))},error:p.descriptionOffice.error,helperText:p.descriptionOffice.type})),r.a.createElement(R.a,{variant:"contained",color:"primary",onClick:function(){h()},style:{marginRight:"10px",backgroundImage:"linear-gradient(90deg, #2fcf24 0%, #10640a 100%)"}},"Cadastrar"))},ne=Object(d.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"}}}));function re(){var e=ne(),t=r.a.useState(!1),a=Object(m.a)(t,2),n=a[0],i=a[1],l=function(){i(!1)};return r.a.createElement("div",null,r.a.createElement(R.a,{variant:"contained",color:"primary",onClick:function(){i(!0)},style:{marginRight:"10px",backgroundImage:"linear-gradient(90deg, #2fcf24 0%, #10640a 100%)"}},"Cadastrar ",r.a.createElement(ee.a,null)),r.a.createElement(D.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:n,onClose:l,closeAfterTransition:!0,BackdropComponent:W.a,BackdropProps:{timeout:500}},r.a.createElement(U.a,{in:n},r.a.createElement(ae,{closeModal:l}))))}var ie=function(e,t){document.querySelectorAll("[".concat(e,"]")).forEach((function(e){e.classList.add("".concat(t))}))};var le=function(){var e=A().setEmployees,t=Object(n.useCallback)(Object(s.a)(c.a.mark((function t(){var a,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_();case 2:a=t.sent,null!==(n=I("employees"))&&n===a||z("employees",a),e(a),ie("data-title","reset"),ie("data-reg","reset"),ie("data-list","reset");case 9:case"end":return t.stop()}}),t)}))),[e]);return Object(n.useEffect)((function(){t()}),[t]),r.a.createElement("section",{className:"App"},r.a.createElement("p",{className:"title","data-title":!0},"Cadastro de Funcionarios"),r.a.createElement("div",{"data-reg":!0},r.a.createElement(re,null)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{"data-list":!0},r.a.createElement(X,null)))};a(118);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null,r.a.createElement(le,null))),document.getElementById("root"))},91:function(e,t,a){e.exports=a(120)},97:function(e,t,a){}},[[91,1,2]]]);
//# sourceMappingURL=main.4e444730.chunk.js.map
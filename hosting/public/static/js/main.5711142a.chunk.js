(this["webpackJsonpcad-funcionarios"]=this["webpackJsonpcad-funcionarios"]||[]).push([[0],{108:function(e,a,t){},117:function(e,a,t){},118:function(e,a,t){},120:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(11),i=t.n(o),c=t(23),l=t.n(c),s=t(37),u=(t(97),t(7)),m=t(16),d=t(166),p=t(172),b=t(177),f=t(181),g=t(180),v=t(176),j=t(178),O=t(183),E=t(174),h=t(76),y=t.n(h),C=t(179),x=t(65),N=t.n(x);N.a.initializeApp({apiKey:"AIzaSyC1UnKBCPqGhmnHvetVCx00wN1cu0GYI0w",authDomain:"cad-funcionarios-32b7f.firebaseapp.com",databaseURL:"https://cad-funcionarios-32b7f.firebaseio.com",projectId:"cad-funcionarios-32b7f",storageBucket:"cad-funcionarios-32b7f.appspot.com",messagingSenderId:"850092813378",appId:"1:850092813378:web:766be8b7fd8e3c077151db"});var k=N.a,w=k.database(),S=function(e,a){return new Promise((function(t,r){var n=w.ref(),o={};o["/funcionarios/"+e]=a,n.update(o),t("Update")}))},I=function(){return new Promise((function(e,a){w.ref("funcionarios").once("value").then((function(a){var t=a.val();e(t)}))}))},z=function(e){return new Promise((function(a,t){w.ref("/funcionarios/".concat(e)).remove(),a("Deletado")}))},T=function(e){return JSON.parse(localStorage.getItem(e))},P=function(e,a){return localStorage.getItem(e)!==JSON.stringify(a)&&(localStorage.setItem(e,JSON.stringify(a)),!0)},D=Object(r.createContext)();function F(e){var a=e.children,t=Object(r.useState)(null),o=Object(m.a)(t,2),i=o[0],c=o[1];return n.a.createElement(D.Provider,{value:{funcionarios:i,setFuncionarios:c}},a)}function W(){var e=Object(r.useContext)(D);return{funcionarios:e.funcionarios,setFuncionarios:e.setFuncionarios}}var B=t(184),U=t(175),V=t(121),q=t(74),A=t.n(q),J=t(38),M=t(185),R=t(173),H=(t(108),{nome:{error:!1,tipo:""},sobrenome:{error:!1,tipo:""},dtNascimento:{error:!1,tipo:""},cargo:{error:!1,tipo:""},salario:{error:!1,tipo:""},descricaoCargo:{error:!1,tipo:""}});function G(e){var a={};return a.nome=e.nome?{error:!1,tipo:""}:{error:!0,tipo:"Campo Obrigat\xf3rio"},a.sobrenome=e.sobrenome?{error:!1,tipo:""}:{error:!0,tipo:"Campo Obrigat\xf3rio"},a.dtNascimento=/^([0-2][0-9]|(3)[0-1])(\/)(((0)[0-9])|((1)[0-2]))(\/)\d{4}$/i.test(e.dtNascimento)?{error:!1,tipo:""}:{error:!0,tipo:"Data n\xe3o \xe9 valida"},a.cargo=e.cargo?{error:!1,tipo:""}:{error:!0,tipo:"Campo Obrigat\xf3rio"},a.salario=e.salario?{error:!1,tipo:""}:{error:!0,tipo:"Campo Obrigat\xf3rio"},a.descricaoCargo=e.descricaoCargo?{error:!1,tipo:""}:{error:!0,tipo:"Campo Obrigat\xf3rio"},a}var K=Object(d.a)((function(e){return{input:{width:"48%"},inputSalario:{width:"48%"},multiline:{width:"100%"}}}));var L=function(e){var a=e.keyUnq,t=e.closeModal,o=W(),i=o.funcionarios,c=o.setFuncionarios,d=Object(r.useState)(i[a]),p=Object(m.a)(d,2),b=p[0],f=p[1],g=Object(r.useState)(G(b)),v=Object(m.a)(g,2),j=v[0],O=v[1],E=K(),h=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object.values(G(b)).every((function(e){return!1===e.error}))){e.next=8;break}return e.next=3,S(a,b);case 3:c(Object(u.a)(Object(u.a)({},i),{},Object(J.a)({},a,b))),O(Object(u.a)({},H)),t(),e.next=9;break;case 8:O(Object(u.a)({},G(b)));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"cadastro"},n.a.createElement("p",{style:{marginTop:"0px",fontSize:26}},"Editar"),n.a.createElement("div",{style:{width:"100%",margin:"20px 0px",display:"flex",justifyContent:"space-between"}},n.a.createElement(M.a,{label:"Nome",defaultValue:b.nome,id:"nome",error:j.nome.error,helperText:j.nome.tipo,variant:"outlined",size:"small",className:E.input,onChange:function(e){f(Object(u.a)(Object(u.a)({},b),{},{nome:e.target.value}))}}),n.a.createElement(M.a,{label:"Sobrenome",onChange:function(e){f(Object(u.a)(Object(u.a)({},b),{},{sobrenome:e.target.value}))},variant:"outlined",size:"small",className:E.input,defaultValue:b.sobrenome,error:j.sobrenome.error,helperText:j.sobrenome.tipo})),n.a.createElement("div",{style:{width:"100%",margin:"20px 0px",display:"flex",justifyContent:"space-between"}},n.a.createElement(M.a,{label:"Data de Nascimento",onChange:function(e){f(Object(u.a)(Object(u.a)({},b),{},{dtNascimento:e.target.value}))},variant:"outlined",size:"small",className:E.input,defaultValue:b.dtNascimento,error:j.dtNascimento.error,helperText:j.dtNascimento.tipo}),n.a.createElement(M.a,{label:"Cargo",onChange:function(e){f(Object(u.a)(Object(u.a)({},b),{},{cargo:e.target.value}))},variant:"outlined",size:"small",className:E.input,defaultValue:b.cargo,error:j.cargo.error,helperText:j.cargo.tipo})),n.a.createElement("div",{style:{margin:"20px 0px",display:"flex",justifyContent:"space-between"}},n.a.createElement(M.a,{label:"Sal\xe1rio",onChange:function(e){f(Object(u.a)(Object(u.a)({},b),{},{salario:e.target.value}))},variant:"outlined",size:"small",className:E.inputSalario,defaultValue:b.salario,error:j.salario.error,helperText:j.salario.tipo})),n.a.createElement("div",{style:{margin:"20px 0px",display:"flex",justifyContent:"space-between"}},n.a.createElement(M.a,{label:"Descri\xe7\xe3o do Cargo",multiline:!0,defaultValue:b.descricaoCargo,rows:5,variant:"outlined",className:E.multiline,onChange:function(e){f(Object(u.a)(Object(u.a)({},b),{},{descricaoCargo:e.target.value}))},error:j.descricaoCargo.error,helperText:j.descricaoCargo.tipo})),n.a.createElement(R.a,{variant:"contained",color:"primary",onClick:function(){h()},style:{marginRight:"10px",backgroundImage:"linear-gradient(90deg, #2fcf24 0%, #10640a 100%)"}},"Editar"))},Y=Object(d.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function $(e){var a=e.keyUnq,t=Y(),o=Object(r.useState)(!1),i=Object(m.a)(o,2),c=i[0],l=i[1],s=function(){l(!1)};return n.a.createElement("div",null,n.a.createElement(E.a,{size:"small",color:"primary","aria-label":"edit",style:{backgroundImage:"linear-gradient(90deg, #2fcf24 0%, #10640a 100%)"},onClick:function(){l(!0)}},n.a.createElement(A.a,null)),n.a.createElement(B.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:c,onClose:s,closeAfterTransition:!0,BackdropComponent:U.a,BackdropProps:{timeout:500}},n.a.createElement(V.a,{in:c},n.a.createElement(L,{keyUnq:a,closeModal:s}))))}var Q=[{id:"nome",label:"Nome",minWidth:170},{id:"dtNascimento",label:"Data de Nascimento",minWidth:100},{id:"cargo",label:"Cargo",minWidth:100},{id:"salario",label:"Sal\xe1rio",minWidth:100},{id:"editar",label:"Editar",maxWidth:80},{id:"deletar",label:"",maxWidth:80}],X=Object(d.a)({root:{width:"100%"},container:{maxHeight:440}});var Z=Object(r.memo)((function(){var e=X(),a=W(),t=a.funcionarios,o=a.setFuncionarios,i=n.a.useState(0),c=Object(m.a)(i,2),l=c[0],s=c[1],d=n.a.useState(10),h=Object(m.a)(d,2),x=h[0],N=h[1],k=n.a.useState([]),w=Object(m.a)(k,2),S=w[0],I=w[1];return Object(r.useEffect)((function(){var e=function(e){z(e);var a=t;delete a[e],o(Object(u.a)({},a))};t&&(I(function(e,a){return Object.values(e).map((function(t,r){return a("".concat(t.nome," ").concat(t.sobrenome),t.dtNascimento,t.cargo,t.salario,Object.keys(e)[r])}))}(t,(function(a,t,r,o,i){return{nome:a,dtNascimento:t,cargo:r,salario:o,editar:n.a.createElement($,{keyUnq:i}),deletar:n.a.createElement(E.a,{size:"small",color:"secondary","aria-label":"edit",onClick:function(){return e(i)},style:{backgroundImage:"linear-gradient(90deg, #c21616 0%, #630c0c 100%)"}},n.a.createElement(y.a,null)),key:i}}))),P("funcionarios",t))}),[t,o]),n.a.createElement(p.a,{className:e.root},n.a.createElement(v.a,{className:e.container},n.a.createElement(b.a,{stickyHeader:!0,"aria-label":"sticky table"},n.a.createElement(j.a,null,n.a.createElement(C.a,null,Q.map((function(e){return n.a.createElement(g.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},n.a.createElement("b",null,e.label))})))),n.a.createElement(f.a,null,S.slice(l*x,l*x+x).map((function(e){return n.a.createElement(C.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.key},Q.map((function(a){var t=e[a.id];return n.a.createElement(g.a,{key:a.id,align:a.align},a.format&&"number"===typeof t?a.format(t):t)})))}))))),n.a.createElement(O.a,{rowsPerPageOptions:[10,25,100],component:"div",count:S.length,rowsPerPage:x,page:l,onChangePage:function(e,a){s(a)},onChangeRowsPerPage:function(e){N(+e.target.value),s(0)}}))})),_=t(77),ee=t.n(_),ae=(t(117),Object(d.a)((function(e){return{input:{width:"48%"},inputSalario:{width:"48%"},multiline:{width:"100%"}}})));var te=function(e){var a=e.closeModal,t=W(),o=t.funcionarios,i=t.setFuncionarios,c=Object(r.useState)(H),d=Object(m.a)(c,2),p=d[0],b=d[1],f=ae(),g=Object(r.useState)({nome:"",sobrenome:"",dtNascimento:"",cargo:"",salario:"",descricaoCargo:""}),v=Object(m.a)(g,2),j=v[0],O=v[1],E=function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object.values(G(j)).every((function(e){return!1===e.error}))){e.next=9;break}return t=k.database().ref().child("funcionarios").push().key,e.next=4,S(t,j);case 4:i(Object(u.a)(Object(u.a)({},o),{},Object(J.a)({},t,j))),b(Object(u.a)({},H)),a(),e.next=10;break;case 9:b(Object(u.a)({},G(j)));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"editar"},n.a.createElement("p",{style:{marginTop:"0px",fontSize:26}},"Cadastro"),n.a.createElement("div",{style:{width:"100%",margin:"20px 0px",display:"flex",justifyContent:"space-between"}},n.a.createElement(M.a,{label:"Nome",error:p.nome.error,helperText:p.nome.tipo,variant:"outlined",size:"small",className:f.input,onChange:function(e){O(Object(u.a)(Object(u.a)({},j),{},{nome:e.target.value}))}}),n.a.createElement(M.a,{label:"Sobrenome",onChange:function(e){O(Object(u.a)(Object(u.a)({},j),{},{sobrenome:e.target.value}))},variant:"outlined",size:"small",className:f.input,error:p.sobrenome.error,helperText:p.sobrenome.tipo})),n.a.createElement("div",{style:{width:"100%",margin:"20px 0px",display:"flex",justifyContent:"space-between"}},n.a.createElement(M.a,{label:"Data de Nascimento",onChange:function(e){O(Object(u.a)(Object(u.a)({},j),{},{dtNascimento:e.target.value}))},variant:"outlined",size:"small",className:f.input,error:p.dtNascimento.error,helperText:p.dtNascimento.tipo}),n.a.createElement(M.a,{label:"Cargo",onChange:function(e){O(Object(u.a)(Object(u.a)({},j),{},{cargo:e.target.value}))},variant:"outlined",size:"small",className:f.input,error:p.cargo.error,helperText:p.cargo.tipo})),n.a.createElement("div",{style:{margin:"20px 0px",display:"flex",justifyContent:"space-between"}},n.a.createElement(M.a,{label:"Sal\xe1rio",onChange:function(e){O(Object(u.a)(Object(u.a)({},j),{},{salario:e.target.value}))},variant:"outlined",size:"small",className:f.inputSalario,error:p.salario.error,helperText:p.salario.tipo})),n.a.createElement("div",{style:{margin:"20px 0px",display:"flex",justifyContent:"space-between"}},n.a.createElement(M.a,{label:"Descri\xe7\xe3o do Cargo",multiline:!0,rows:5,variant:"outlined",className:f.multiline,onChange:function(e){O(Object(u.a)(Object(u.a)({},j),{},{descricaoCargo:e.target.value}))},error:p.descricaoCargo.error,helperText:p.descricaoCargo.tipo})),n.a.createElement(R.a,{variant:"contained",color:"primary",onClick:function(){E()},style:{marginRight:"10px",backgroundImage:"linear-gradient(90deg, #2fcf24 0%, #10640a 100%)"}},"Cadastrar"))},re=Object(d.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"}}}));function ne(){var e=re(),a=n.a.useState(!1),t=Object(m.a)(a,2),r=t[0],o=t[1],i=function(){o(!1)};return n.a.createElement("div",null,n.a.createElement(R.a,{variant:"contained",color:"primary",onClick:function(){o(!0)},style:{marginRight:"10px",backgroundImage:"linear-gradient(90deg, #2fcf24 0%, #10640a 100%)"}},"Cadastrar ",n.a.createElement(ee.a,null)),n.a.createElement(B.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:r,onClose:i,closeAfterTransition:!0,BackdropComponent:U.a,BackdropProps:{timeout:500}},n.a.createElement(V.a,{in:r},n.a.createElement(te,{closeModal:i}))))}var oe=function(e,a){document.querySelectorAll("[".concat(e,"]")).forEach((function(e){e.classList.add("".concat(a))}))};var ie=function(){var e=W().setFuncionarios,a=Object(r.useCallback)(Object(s.a)(l.a.mark((function a(){var t,r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,I();case 2:t=a.sent,null!==(r=T("funcionarios"))&&r===t||P("funcionarios",t),e(t),oe("data-title","reset"),oe("data-cad","reset"),oe("data-lista","reset");case 9:case"end":return a.stop()}}),a)}))),[e]);return Object(r.useEffect)((function(){a()}),[a]),n.a.createElement("section",{className:"App"},n.a.createElement("p",{className:"title","data-title":!0},"Cadastro de Funcionarios"),n.a.createElement("div",{"data-cad":!0},n.a.createElement(ne,null)),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("div",{"data-lista":!0},n.a.createElement(Z,null)))};t(118);i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(F,null,n.a.createElement(ie,null))),document.getElementById("root"))},91:function(e,a,t){e.exports=t(120)},97:function(e,a,t){}},[[91,1,2]]]);
//# sourceMappingURL=main.5711142a.chunk.js.map